<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Project 1 : HW 4 for Data Visualization - d3 visualization">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <script src="http://code.jquery.com/jquery-1.11.2.js"></script>
    <script type"text/javascript" src="javascripts/main.js"></script>
    <script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
    <title>Project 1</title>
  </head>
  <body>
    <!--Header-->
     // <a href="index.html">
     <div id="myheader">
        <h1>Data Visualization Project</h1>
        <h2>IE590</h2>
      </div>
  </a>
  <div id="myBody">
      <!--Body-->
      <!--Data base-->
      <div id="visualizations">
        <h2> <a name="sources"></a>Data Source selected</h2>
        <table align="center">
          <thead>
            <th>Source Link</th>
            <th>Description</th>
            <th>Interest</th>
          </thead>
          <tbody>
            <tr>
              <td><a name="source8", href="XXX"><img src="images/dane.jpg" style="height:40px;"><p>DANE Colombia</a></td>
              <td>Measures the amount of exports made by Colombia, to the different countries it trades with, through time</td>
              <td>This visualization will enable the understanding of patterns in terms of rise or fall of trading between 
              Colombia and other countries, and compare the information with current events in the global or local market. 
              This, in order to determine the causes of the rise or fall</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div  id="visualizations">
        <!--Visualization-->
        <div>
          <h2><a name="visualization2">Monthly Total Exports from Colombia to other Countries</a></h2>
          <div id="graph"></div>
            <script type="text/javascript">
            var width=1200;
            var height=600;
            var padding=90;
            var labels=new Array();
            var color=d3.scale.category10();
              d3.csv("countries.csv",function(data){
                
                for(var i=0 ; i<data.length;i++){
                  labels[i]=data[i].Month;
                }
              
                var svg=d3.selectAll("#graph")
                  .append("svg")
                  .attr("width",width)
                  .attr("height",height)
                  .style("background","ghostwhite"); 
                var xScale=d3.scale.ordinal()
                    .domain(labels)
                    .rangePoints([padding,width-5]);
                var yScale=d3.scale.linear()
                    .domain([100,2400000])
                    .range([height-padding,padding]);
                    
                 svg.append("g")
                    .attr("class","axis")
                    .attr("transform","translate(0,"+(height-padding)+")")
                    .call(d3.svg.axis()
                    .scale(xScale)
                    .orient("bottom")
                    .ticks(20))
                    .selectAll("text")
                    .attr("transform", "translate(10,7) rotate(90)")
                    .style("text-anchor", "start")
                    .attr("fill","black");
                  svg.append("g")
                    .attr("class","axis")
                    .attr("transform","translate("+padding+",0)")
                    .call(d3.svg.axis()
                    .scale(yScale)
                    .orient("left")
                    .ticks(20));
                 svg.append("text")
                    .attr("class","name")
                    .attr("text-anchor","end")
                    .attr("y",35)
                    .attr("x",-50)
                    .attr("transform","rotate(-90)")
                    .text("Exports in Thousand Dollars")
                    .style("fill","black");
                  svg.append("text")
                    .attr("class","name")
                    .attr("text-anchor","end")
                    .attr("y",380)
                    .attr("x",200)
                    .text("Month")
                    .style("fill","black");    
                  
                  svg.selectAll("#circle")
                    .data(data)
                    .enter()
                    .append("circle")
                    .attr("cx", function(d){return +xScale(d.Month);})
                    .attr("cy", function(d){return height-padding-0.0002125*(d.Canada);})
                    .attr("r", 5)
                    .attr("fill", "white")
                    .attr("stroke", "blue")
                    .attr("stroke-width", "1.5px");
                    svg.selectAll("#circle")
                    .data(data)
                    .enter()
                    .append("circle")
                    .attr("cx", function(d){return +xScale(d.Month);})
                    .attr("cy", function(d){return height-padding-0.0002125*(d.UnitedStates);})
                    .attr("r", 5)
                    .attr("fill", "white")
                    .attr("stroke", "Red")
                    .attr("stroke-width", "1.5px");
                    svg.selectAll("#circle")
                    .data(data)
                    .enter()
                    .append("circle")
                    .attr("cx", function(d){return +xScale(d.Month);})
                    .attr("cy", function(d){return height-padding-0.0002125*(d.Mexico);})
                    .attr("r", 5)
                    .attr("fill", "white")
                    .attr("stroke", "green")
                    .attr("stroke-width", "1.5px");
                    svg.selectAll("#circle")
                    .data(data)
                    .enter()
                    .append("circle")
                    .attr("cx", function(d){return +xScale(d.Month);})
                    .attr("cy", function(d){return height-padding-0.0002125*(d.Argentina);})
                    .attr("r", 5)
                    .attr("fill", "white")
                    .attr("stroke", "#756bb1")
                    .attr("stroke-width", "1.5px");
                    svg.selectAll("#circle")
                    .data(data)
                    .enter()
                    .append("circle")
                    .attr("cx", function(d){return +xScale(d.Month);})
                    .attr("cy", function(d){return height-padding-0.0002125*(d.Brazil);})
                    .attr("r", 5)
                    .attr("fill", "white")
                    .attr("stroke", "#fd8d3c")
                    .attr("stroke-width", "1.5px");
                    svg.selectAll("#circle")
                    .data(data)
                    .enter()
                    .append("circle")
                    .attr("cx", function(d){return +xScale(d.Month);})
                    .attr("cy", function(d){return height-padding-0.0002125*(d.Paraguay);})
                    .attr("r", 5)
                    .attr("fill", "white")
                    .attr("stroke", "#7b4173")
                    .attr("stroke-width", "1.5px");
                    svg.selectAll("#circle")
                    .data(data)
                    .enter()
                    .append("circle")
                    .attr("cx", function(d){return +xScale(d.Month);})
                    .attr("cy", function(d){return height-padding-0.0002125*(d.Uruguay);})
                    .attr("r", 5)
                    .attr("fill", "white")
                    .attr("stroke", "#de9ed6")
                    .attr("stroke-width", "1.5px");
                    svg.selectAll("#circle")
                    .data(data)
                    .enter()
                    .append("circle")
                    .attr("cx", function(d){return +xScale(d.Month);})
                    .attr("cy", function(d){return height-padding-0.0002125*(d.Venezuela);})
                    .attr("r", 5)
                    .attr("fill", "white")
                    .attr("stroke", " #637939")
                    .attr("stroke-width", "1.5px");

                   
              });
            </script>  
          
          
        </div>
        
      </div>
    </div>
    <!--IndexLeft-->
   <!-- <div id="myIndex">
      <h2>Index</h2>
      <h3><a href="#source8">Data Source information</a></h3>
      <h3><a href="#visualization2">Monthly Total Exports from Colombia to other Countries</a></h3>
    </div>-->

  <!--Google Analytics-->
 <!-- <script>
  //  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  //  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  //  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  //  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  //  ga('create', 'UA-60205051-2', 'auto');
  //  ga('send', 'pageview');-->

  </body>
</html>
